(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{1746:function(e,t,a){Promise.resolve().then(a.bind(a,1193))},6463:function(e,t,a){"use strict";var s=a(1169);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},1193:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var s=a(7437),l=a(7138),n=a(6463),i=a(2265),r=a(1270);function o(){let e=(0,n.useRouter)(),{loginWithEmail:t,loginWithGoogle:a}=(0,r.a)(),[o,u]=(0,i.useState)(""),[d,c]=(0,i.useState)(""),[m,h]=(0,i.useState)(!1),[x,f]=(0,i.useState)(""),p=async a=>{a.preventDefault(),f(""),h(!0);try{await t(o,d),e.push("/trips")}catch(t){let e=null==t?void 0:t.code;"auth/invalid-credential"===e||"auth/wrong-password"===e?f("Incorrect email or password."):"auth/user-not-found"===e?f("No account found with this email."):f("Something went wrong. Please try again.")}finally{h(!1)}},b=async()=>{f(""),h(!0);try{await a(),e.push("/trips")}catch(e){f("Google sign in failed. Please try again.")}finally{h(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-neutral-50 text-neutral-900",children:(0,s.jsxs)("div",{className:"grid min-h-screen grid-cols-1 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"relative hidden overflow-hidden lg:block",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1526779259212-939e64788e3c?auto=format&fit=crop&w=1600&q=80')"}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/60 to-black/30"}),(0,s.jsxs)("div",{className:"relative flex h-full flex-col justify-between p-10 text-white",children:[(0,s.jsx)("div",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-white/70",children:"Travelcini"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-3xl font-semibold lg:text-4xl",children:"Your Journey Begins Here."}),(0,s.jsx)("p",{className:"mt-4 max-w-md text-sm text-white/70",children:"Discover curated trips, connect with travel buddies, and turn inspiration into unforgettable experiences."})]}),(0,s.jsx)("div",{className:"mt-10 text-xs text-white/60",children:"Handpicked destinations across the globe, designed for modern explorers."})]})]}),(0,s.jsx)("div",{className:"flex items-center justify-center bg-white py-12 px-6 lg:px-16",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)(l.default,{href:"/",className:"inline-flex items-center text-sm font-medium text-neutral-500 hover:text-neutral-800",children:[(0,s.jsx)("span",{className:"mr-2 h-6 w-6 rounded-full border border-neutral-300 text-center text-xs leading-6",children:"←"}),"Back to home"]})}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold tracking-tight text-neutral-900",children:"Welcome back"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-neutral-500",children:"Sign in to pick up where you left off on your next adventure."})]}),(0,s.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"email",className:"text-sm font-medium text-neutral-800",children:"Email"}),(0,s.jsx)("input",{id:"email",type:"email",value:o,onChange:e=>u(e.target.value),required:!0,className:"w-full rounded-xl border border-neutral-200 bg-neutral-50 px-3 py-2 text-sm outline-none ring-0 transition focus:border-[#0073D9] focus:bg-white focus:ring-2 focus:ring-[#0073D9]/20",placeholder:"you@example.com"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"password",className:"text-sm font-medium text-neutral-800",children:"Password"}),(0,s.jsx)("input",{id:"password",type:"password",value:d,onChange:e=>c(e.target.value),required:!0,className:"w-full rounded-xl border border-neutral-200 bg-neutral-50 px-3 py-2 text-sm outline-none ring-0 transition focus:border-[#0073D9] focus:bg-white focus:ring-2 focus:ring-[#0073D9]/20",placeholder:"••••••••"})]}),x&&(0,s.jsx)("div",{className:"text-sm font-medium text-red-500",children:x}),(0,s.jsx)("button",{type:"submit",disabled:m,className:"flex w-full items-center justify-center rounded-full bg-[#0073D9] px-4 py-2.5 text-sm font-semibold text-white shadow-md shadow-[#0073D9]/40 transition hover:-translate-y-0.5 hover:bg-[#005fb1] hover:shadow-lg disabled:cursor-not-allowed disabled:opacity-70",children:m?"Signing in...":"Sign In"})]}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsxs)("button",{type:"button",disabled:m,onClick:b,className:"flex w-full items-center justify-center gap-2 rounded-full border border-neutral-300 bg-white px-4 py-2.5 text-sm font-medium text-neutral-800 transition hover:bg-neutral-50 disabled:cursor-not-allowed disabled:opacity-70",children:[(0,s.jsx)("span",{className:"inline-flex h-5 w-5 items-center justify-center rounded-full bg-white",children:(0,s.jsxs)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"h-4 w-4",children:[(0,s.jsx)("path",{d:"M21.6 12.2273C21.6 11.5182 21.5364 10.8364 21.4182 10.1818H12V13.8636H17.4182C17.1818 15.1182 16.4727 16.1545 15.4091 16.8636V19.2273H18.4909C20.2909 17.5727 21.6 15.1636 21.6 12.2273Z",fill:"#4285F4"}),(0,s.jsx)("path",{d:"M12 21.5C14.7 21.5 16.9636 20.6091 18.4909 19.2273L15.4091 16.8636C14.5818 17.4182 13.4182 17.7727 12 17.7727C9.39091 17.7727 7.19091 16.1 6.4 13.7727H3.21818V16.2091C4.73636 19.4 8.09091 21.5 12 21.5Z",fill:"#34A853"}),(0,s.jsx)("path",{d:"M6.4 13.7727C6.19091 13.2182 6.07273 12.6182 6.07273 12C6.07273 11.3818 6.19091 10.7818 6.4 10.2273V7.79089H3.21818C2.58182 9.20907 2.22727 10.7636 2.22727 12.3636C2.22727 13.9636 2.58182 15.5182 3.21818 16.9364L6.4 13.7727Z",fill:"#FBBC05"}),(0,s.jsx)("path",{d:"M12 6.22727C13.5455 6.22727 14.8909 6.75454 15.9636 7.76363L18.5636 5.16363C16.9636 3.67272 14.7 2.75 12 2.75C8.09091 2.75 4.73636 4.85 3.21818 8.04089L6.4 10.2273C7.19091 7.89999 9.39091 6.22727 12 6.22727Z",fill:"#EA4335"})]})}),(0,s.jsx)("span",{children:"Sign in with Google"})]})}),(0,s.jsxs)("p",{className:"mt-8 text-center text-sm text-neutral-500",children:["Don't have an account?"," ",(0,s.jsx)(l.default,{href:"/signup",className:"font-semibold text-[#0073D9] hover:text-[#005fb1]",children:"Sign up"})]})]})})]})})}},1270:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return d},a:function(){return c}});var s=a(7437),l=a(2265),n=a(303),i=a(9842),r=a(9506);let o=(0,l.createContext)(void 0);async function u(e){var t,a,s,l,n,o,u,d;let c=(0,i.JU)(r.db,"users",e.uid),m=await (0,i.QT)(c);if(m.exists()){let r=m.data();return await (0,i.pl)(c,{email:null!==(a=null!==(t=e.email)&&void 0!==t?t:r.email)&&void 0!==a?a:"",displayName:null!==(l=null!==(s=e.displayName)&&void 0!==s?s:r.displayName)&&void 0!==l?l:null,photoURL:null!==(o=null!==(n=e.photoURL)&&void 0!==n?n:r.photoURL)&&void 0!==o?o:null,lastLogin:(0,i.Bt)()},{merge:!0}),(await (0,i.QT)(c)).data()}let h={uid:e.uid,email:e.email||"",displayName:null!==(u=e.displayName)&&void 0!==u?u:null,photoURL:null!==(d=e.photoURL)&&void 0!==d?d:null,bio:"",location:"",subscriptionStatus:"free",tripsCreatedCount:0};return await (0,i.pl)(c,{...h,createdAt:(0,i.Bt)(),lastLogin:(0,i.Bt)()}),h}function d(e){let{children:t}=e,[a,d]=(0,l.useState)(null),[c,m]=(0,l.useState)(null),[h,x]=(0,l.useState)(!0);(0,l.useEffect)(()=>(0,n.Aj)(r.I,async e=>{if(!e){d(null),m(null),x(!1);return}d(e);try{let t=await u(e);m(t)}finally{x(!1)}}),[]);let f=async(e,t)=>{x(!0);try{let a=await (0,n.e5)(r.I,e,t),s=await u(a.user);d(a.user),m(s)}finally{x(!1)}},p=async(e,t)=>{x(!0);try{let a=await (0,n.Xb)(r.I,e,t),s=await u(a.user);d(a.user),m(s)}finally{x(!1)}},b=async()=>{x(!0);try{let e=new n.hJ,t=await (0,n.rh)(r.I,e),a=await u(t.user);d(t.user),m(a)}finally{x(!1)}},g=async()=>{x(!0);try{await (0,n.w7)(r.I),d(null),m(null)}finally{x(!1)}},v=async e=>{if(!a)return;let t=(0,i.JU)(r.db,"users",a.uid);await (0,i.pl)(t,e,{merge:!0}),m(t=>t?{...t,...e}:t)};return(0,s.jsx)(o.Provider,{value:{user:a,userData:c,loading:h,loginWithEmail:f,signupWithEmail:p,loginWithGoogle:b,logout:g,updateUserProfile:v},children:t})}function c(){let e=(0,l.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},9506:function(e,t,a){"use strict";a.d(t,{I:function(){return r},db:function(){return o}});var s=a(5236),l=a(303),n=a(9842);let i=(0,s.C6)().length?(0,s.Mq)():(0,s.ZF)({apiKey:"AIzaSyCzDbT9T7fC21Jup0qpcsD6n6Lp0C4R9S0",authDomain:"travelgenie-dev.firebaseapp.com",projectId:"travelgenie-dev",storageBucket:"travelgenie-dev.firebasestorage.app",messagingSenderId:"121929930828",appId:"1:121929930828:web:231172b845cfa1473c7ce9"}),r=(0,l.v0)(i),o=(0,n.ad)(i)}},function(e){e.O(0,[609,117,67,138,971,23,744],function(){return e(e.s=1746)}),_N_E=e.O()}]);