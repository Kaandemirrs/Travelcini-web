(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{8196:function(e,t,s){Promise.resolve().then(s.bind(s,529))},6463:function(e,t,s){"use strict";var r=s(1169);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},529:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var r=s(7437),l=s(2265),a=s(6463),n=s(7936),i=s(5933),d=s(1270);function o(){let e=(0,a.useRouter)(),{user:t,userData:s,loading:o,updateUserProfile:c}=(0,d.a)(),[u,x]=(0,l.useState)(""),[m,h]=(0,l.useState)(""),[f,p]=(0,l.useState)(""),[b,j]=(0,l.useState)(!1),[g,N]=(0,l.useState)(!1);(0,l.useEffect)(()=>{o||t||e.replace("/login")},[o,t,e]),(0,l.useEffect)(()=>{s&&(x(s.displayName||""),h(s.bio||""),p(s.location||""))},[s]);let v=async e=>{if(e.preventDefault(),t){j(!0),N(!1);try{await c({displayName:u||null,bio:m||"",location:f||""}),N(!0),setTimeout(()=>N(!1),2500)}finally{j(!1)}}};if(o||!t)return(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-white",children:(0,r.jsx)("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-neutral-200 border-t-[#0073D9]"})});if(!s)return(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-white",children:(0,r.jsx)("div",{className:"rounded-2xl border border-neutral-200 bg-white px-6 py-4 text-sm text-neutral-600 shadow-sm",children:"Loading your profile..."})});let y="pro"===s.subscriptionStatus,w=s.tripsCreatedCount,D=y?100:Math.min(100,w/1*100);return(0,r.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,r.jsx)(n.default,{}),(0,r.jsx)("main",{className:"pt-28 bg-neutral-50",children:(0,r.jsxs)("div",{className:"mx-auto max-w-5xl px-4 pb-16 md:px-0",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("p",{className:"mb-2 text-xs font-semibold uppercase tracking-[0.22em] text-[#0073D9]",children:"Profile"}),(0,r.jsx)("h1",{className:"text-2xl font-semibold text-[#14183E] md:text-3xl",children:"Your traveler profile"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-neutral-500",children:"Keep your basic information up to date so we can personalize your trips."})]}),(0,r.jsxs)("div",{className:"grid gap-8 md:grid-cols-[minmax(0,2fr)_minmax(0,1.3fr)]",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"flex h-full flex-col rounded-3xl border border-neutral-200 bg-white p-6 shadow-[0_20px_60px_rgba(15,23,42,0.06)] md:p-8",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center gap-5 md:flex-row md:items-start",children:[(0,r.jsx)("div",{className:"relative h-24 w-24 overflow-hidden rounded-3xl border border-neutral-200 bg-neutral-50",children:t.photoURL?(0,r.jsx)("img",{src:t.photoURL,alt:u||t.email||"",className:"h-full w-full object-cover"}):(0,r.jsx)("div",{className:"flex h-full w-full items-center justify-center text-3xl font-semibold text-[#14183E]",children:(u||t.email||"?").charAt(0).toUpperCase()})}),(0,r.jsxs)("div",{className:"flex-1 space-y-3 text-center md:text-left",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-[#14183E] md:text-2xl",children:u||"Traveler"}),(0,r.jsx)("p",{className:"text-sm text-neutral-500",children:t.email}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3 pt-2 md:justify-start",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ".concat(y?"bg-[#FFF7E1] text-[#92400E]":"bg-neutral-100 text-neutral-700"),children:[(0,r.jsx)("span",{className:"h-2 w-2 rounded-full bg-[#22C55E]"}),y?"Pro Explorer":"Free Traveler"]}),(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-[#F5F8FF] px-3 py-1 text-xs text-neutral-700",children:[(0,r.jsx)("span",{className:"h-1.5 w-8 rounded-full bg-gradient-to-r from-[#0073D9] via-[#38BDF8] to-[#22C55E]"}),"Trips Created:"," ",(0,r.jsx)("span",{className:"font-semibold text-[#14183E]",children:w}),(0,r.jsxs)("span",{className:"text-neutral-500",children:["/ ",y?"Unlimited":"".concat(1)]})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-6 border-t border-neutral-100 pt-4",children:[(0,r.jsxs)("div",{className:"mb-2 flex items-center justify-between text-[11px] text-neutral-500",children:[(0,r.jsx)("span",{children:"Profile completeness"}),(0,r.jsxs)("span",{children:[Math.round(D),"%"]})]}),(0,r.jsx)("div",{className:"h-1.5 w-full rounded-full bg-neutral-100",children:(0,r.jsx)("div",{className:"h-full rounded-full bg-gradient-to-r from-[#0073D9] via-[#38BDF8] to-[#22C55E]",style:{width:"".concat(D,"%")}})})]}),(0,r.jsxs)("div",{className:"mt-6 space-y-3 text-sm text-neutral-600",children:[(0,r.jsx)("p",{className:"font-medium text-neutral-800",children:"About you"}),(0,r.jsx)("p",{className:"rounded-2xl border border-dashed border-neutral-200 bg-neutral-50 px-4 py-3 text-xs text-neutral-500",children:"Use the form on the right to update your name, short bio and where you are currently based. This helps us tailor trip ideas for you."})]})]})}),(0,r.jsx)("div",{className:"w-full",children:(0,r.jsxs)("div",{className:"rounded-3xl border border-neutral-200 bg-white p-6 shadow-[0_20px_60px_rgba(15,23,42,0.06)] md:p-7",children:[(0,r.jsx)("h2",{className:"mb-4 text-sm font-semibold uppercase tracking-[0.22em] text-neutral-500",children:"Profile Settings"}),(0,r.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-1.5 text-sm",children:[(0,r.jsx)("label",{htmlFor:"displayName",className:"text-xs font-medium text-neutral-800",children:"Display name"}),(0,r.jsx)("input",{id:"displayName",type:"text",value:u,onChange:e=>x(e.target.value),className:"w-full rounded-2xl border border-neutral-200 bg-neutral-50 px-3 py-2 text-sm text-neutral-900 outline-none ring-0 transition focus:border-[#0073D9] focus:bg-white focus:ring-2 focus:ring-[#0073D9]/20",placeholder:"How should we call you?"})]}),(0,r.jsxs)("div",{className:"space-y-1.5 text-sm",children:[(0,r.jsx)("label",{htmlFor:"bio",className:"text-xs font-medium text-neutral-800",children:"About me"}),(0,r.jsx)("textarea",{id:"bio",value:m,onChange:e=>h(e.target.value),rows:4,className:"w-full resize-none rounded-2xl border border-neutral-200 bg-neutral-50 px-3 py-2 text-sm text-neutral-900 outline-none ring-0 transition focus:border-[#0073D9] focus:bg-white focus:ring-2 focus:ring-[#0073D9]/20",placeholder:"Share a short story about how you like to travel."})]}),(0,r.jsxs)("div",{className:"space-y-1.5 text-sm",children:[(0,r.jsx)("label",{htmlFor:"location",className:"text-xs font-medium text-neutral-800",children:"Current city / country"}),(0,r.jsx)("input",{id:"location",type:"text",value:f,onChange:e=>p(e.target.value),className:"w-full rounded-2xl border border-neutral-200 bg-neutral-50 px-3 py-2 text-sm text-neutral-900 outline-none ring-0 transition focus:border-[#0073D9] focus:bg-white focus:ring-2 focus:ring-[#0073D9]/20",placeholder:"e.g. Istanbul, T\xfcrkiye"})]}),(0,r.jsx)("button",{type:"submit",disabled:b,className:"mt-2 flex w-full items-center justify-center rounded-full bg-[#0073D9] px-4 py-2.5 text-sm font-semibold text-white shadow-md shadow-[#0073D9]/30 transition hover:-translate-y-0.5 hover:bg-[#005fb1] hover:shadow-lg disabled:cursor-not-allowed disabled:opacity-70",children:b?"Saving...":"Save changes"}),g&&(0,r.jsxs)("div",{className:"mt-3 flex items-center justify-between rounded-2xl border border-emerald-500/30 bg-emerald-50 px-3 py-2 text-xs text-emerald-700",children:[(0,r.jsx)("span",{children:"Saved!"}),(0,r.jsx)("span",{className:"h-1 w-12 rounded-full bg-emerald-400/70"})]})]})]})})]})]})}),(0,r.jsx)(i.default,{})]})}}},function(e){e.O(0,[609,117,67,138,647,960,971,23,744],function(){return e(e.s=8196)}),_N_E=e.O()}]);