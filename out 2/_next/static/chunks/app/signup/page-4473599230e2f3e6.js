(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{1845:function(e,t,a){Promise.resolve().then(a.bind(a,8920))},6463:function(e,t,a){"use strict";var s=a(1169);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},8920:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var s=a(7437),r=a(7138),l=a(6463),n=a(2265),i=a(1270);function o(){let e=(0,l.useRouter)(),{signupWithEmail:t}=(0,i.a)(),[a,o]=(0,n.useState)(""),[u,d]=(0,n.useState)(""),[c,m]=(0,n.useState)(""),[h,x]=(0,n.useState)(""),[f,p]=(0,n.useState)(!1),[b,g]=(0,n.useState)(""),v=async a=>{if(a.preventDefault(),g(""),c!==h){g("Passwords do not match.");return}p(!0);try{await t(u,c),e.push("/trips")}catch(t){let e=null==t?void 0:t.code;"auth/email-already-in-use"===e?g("An account already exists with this email."):"auth/weak-password"===e?g("Password is too weak. Try a stronger one."):g("Something went wrong. Please try again.")}finally{p(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-neutral-50 text-neutral-900",children:(0,s.jsxs)("div",{className:"grid min-h-screen grid-cols-1 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"relative hidden overflow-hidden lg:block",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1500534623283-312aade485b7?auto=format&fit=crop&w=1600&q=80')"}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/60 to-black/30"}),(0,s.jsxs)("div",{className:"relative flex h-full flex-col justify-between p-10 text-white",children:[(0,s.jsx)("div",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-white/70",children:"Travelcini"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-3xl font-semibold lg:text-4xl",children:"Create your travel identity."}),(0,s.jsx)("p",{className:"mt-4 max-w-md text-sm text-white/70",children:"Build your profile, save favorite trips, and join curated travel groups."})]}),(0,s.jsx)("div",{className:"mt-10 text-xs text-white/60",children:"Designed for travelers who value both style and substance."})]})]}),(0,s.jsx)("div",{className:"flex items-center justify-center bg-white py-12 px-6 lg:px-16",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)(r.default,{href:"/",className:"inline-flex items-center text-sm font-medium text-neutral-500 hover:text-neutral-800",children:[(0,s.jsx)("span",{className:"mr-2 h-6 w-6 rounded-full border border-neutral-300 text-center text-xs leading-6",children:"â†"}),"Back to home"]})}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold tracking-tight text-neutral-900",children:"Create your account"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-neutral-500",children:"Join Travelcini and start planning your next unforgettable journey."})]}),(0,s.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"name",className:"text-sm font-medium text-neutral-800",children:"Name"}),(0,s.jsx)("input",{id:"name",type:"text",value:a,onChange:e=>o(e.target.value),required:!0,className:"w-full rounded-xl border border-neutral-200 bg-neutral-50 px-3 py-2 text-sm outline-none ring-0 transition focus:border-[#0073D9] focus:bg-white focus:ring-2 focus:ring-[#0073D9]/20",placeholder:"Jane Doe"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"email",className:"text-sm font-medium text-neutral-800",children:"Email"}),(0,s.jsx)("input",{id:"email",type:"email",value:u,onChange:e=>d(e.target.value),required:!0,className:"w-full rounded-xl border border-neutral-200 bg-neutral-50 px-3 py-2 text-sm outline-none ring-0 transition focus:border-[#0073D9] focus:bg-white focus:ring-2 focus:ring-[#0073D9]/20",placeholder:"you@example.com"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"password",className:"text-sm font-medium text-neutral-800",children:"Password"}),(0,s.jsx)("input",{id:"password",type:"password",value:c,onChange:e=>m(e.target.value),required:!0,className:"w-full rounded-xl border border-neutral-200 bg-neutral-50 px-3 py-2 text-sm outline-none ring-0 transition focus:border-[#0073D9] focus:bg-white focus:ring-2 focus:ring-[#0073D9]/20",placeholder:"Create a strong password"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-neutral-800",children:"Confirm password"}),(0,s.jsx)("input",{id:"confirmPassword",type:"password",value:h,onChange:e=>x(e.target.value),required:!0,className:"w-full rounded-xl border border-neutral-200 bg-neutral-50 px-3 py-2 text-sm outline-none ring-0 transition focus:border-[#0073D9] focus:bg-white focus:ring-2 focus:ring-[#0073D9]/20",placeholder:"Repeat your password"})]}),b&&(0,s.jsx)("div",{className:"text-sm font-medium text-red-500",children:b}),(0,s.jsx)("button",{type:"submit",disabled:f,className:"flex w-full items-center justify-center rounded-full bg-[#0073D9] px-4 py-2.5 text-sm font-semibold text-white shadow-md shadow-[#0073D9]/40 transition hover:-translate-y-0.5 hover:bg-[#005fb1] hover:shadow-lg disabled:cursor-not-allowed disabled:opacity-70",children:f?"Creating account...":"Create Account"})]}),(0,s.jsxs)("p",{className:"mt-8 text-center text-sm text-neutral-500",children:["Already have an account?"," ",(0,s.jsx)(r.default,{href:"/login",className:"font-semibold text-[#0073D9] hover:text-[#005fb1]",children:"Log in"})]})]})})]})})}},1270:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return d},a:function(){return c}});var s=a(7437),r=a(2265),l=a(303),n=a(9842),i=a(9506);let o=(0,r.createContext)(void 0);async function u(e){var t,a,s,r,l,o,u,d;let c=(0,n.JU)(i.db,"users",e.uid),m=await (0,n.QT)(c);if(m.exists()){let i=m.data();return await (0,n.pl)(c,{email:null!==(a=null!==(t=e.email)&&void 0!==t?t:i.email)&&void 0!==a?a:"",displayName:null!==(r=null!==(s=e.displayName)&&void 0!==s?s:i.displayName)&&void 0!==r?r:null,photoURL:null!==(o=null!==(l=e.photoURL)&&void 0!==l?l:i.photoURL)&&void 0!==o?o:null,lastLogin:(0,n.Bt)()},{merge:!0}),(await (0,n.QT)(c)).data()}let h={uid:e.uid,email:e.email||"",displayName:null!==(u=e.displayName)&&void 0!==u?u:null,photoURL:null!==(d=e.photoURL)&&void 0!==d?d:null,bio:"",location:"",subscriptionStatus:"free",tripsCreatedCount:0};return await (0,n.pl)(c,{...h,createdAt:(0,n.Bt)(),lastLogin:(0,n.Bt)()}),h}function d(e){let{children:t}=e,[a,d]=(0,r.useState)(null),[c,m]=(0,r.useState)(null),[h,x]=(0,r.useState)(!0);(0,r.useEffect)(()=>(0,l.Aj)(i.I,async e=>{if(!e){d(null),m(null),x(!1);return}d(e);try{let t=await u(e);m(t)}finally{x(!1)}}),[]);let f=async(e,t)=>{x(!0);try{let a=await (0,l.e5)(i.I,e,t),s=await u(a.user);d(a.user),m(s)}finally{x(!1)}},p=async(e,t)=>{x(!0);try{let a=await (0,l.Xb)(i.I,e,t),s=await u(a.user);d(a.user),m(s)}finally{x(!1)}},b=async()=>{x(!0);try{let e=new l.hJ,t=await (0,l.rh)(i.I,e),a=await u(t.user);d(t.user),m(a)}finally{x(!1)}},g=async()=>{x(!0);try{await (0,l.w7)(i.I),d(null),m(null)}finally{x(!1)}},v=async e=>{if(!a)return;let t=(0,n.JU)(i.db,"users",a.uid);await (0,n.pl)(t,e,{merge:!0}),m(t=>t?{...t,...e}:t)};return(0,s.jsx)(o.Provider,{value:{user:a,userData:c,loading:h,loginWithEmail:f,signupWithEmail:p,loginWithGoogle:b,logout:g,updateUserProfile:v},children:t})}function c(){let e=(0,r.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},9506:function(e,t,a){"use strict";a.d(t,{I:function(){return i},db:function(){return o}});var s=a(5236),r=a(303),l=a(9842);let n=(0,s.C6)().length?(0,s.Mq)():(0,s.ZF)({apiKey:"AIzaSyCzDbT9T7fC21Jup0qpcsD6n6Lp0C4R9S0",authDomain:"travelgenie-dev.firebaseapp.com",projectId:"travelgenie-dev",storageBucket:"travelgenie-dev.firebasestorage.app",messagingSenderId:"121929930828",appId:"1:121929930828:web:231172b845cfa1473c7ce9"}),i=(0,r.v0)(n),o=(0,l.ad)(n)}},function(e){e.O(0,[609,117,67,138,971,23,744],function(){return e(e.s=1845)}),_N_E=e.O()}]);