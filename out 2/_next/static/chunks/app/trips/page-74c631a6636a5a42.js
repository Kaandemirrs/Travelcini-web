(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[633],{2866:function(e,t,s){Promise.resolve().then(s.bind(s,5933)),Promise.resolve().then(s.bind(s,7936)),Promise.resolve().then(s.bind(s,3132)),Promise.resolve().then(s.bind(s,9635))},6463:function(e,t,s){"use strict";var l=s(1169);s.o(l,"useRouter")&&s.d(t,{useRouter:function(){return l.useRouter}}),s.o(l,"useSearchParams")&&s.d(t,{useSearchParams:function(){return l.useSearchParams}})},3132:function(e,t,s){"use strict";s.d(t,{default:function(){return g}});var l=s(7437),a=s(6648),i=s(6463),n=s(2265),r=s(9842),d=s(9506);async function c(e){let t=d.I.currentUser;if(!t)throw Error("NOT_AUTHENTICATED");let s=(0,r.JU)(d.db,"users",t.uid),l=await (0,r.QT)(s);if(!l.exists())throw Error("USER_NOT_FOUND");let a=l.data();if("free"===a.subscriptionStatus&&a.tripsCreatedCount>=1)throw Error("LIMIT_REACHED");let i=(0,r.hJ)(d.db,"trips");await (0,r.ET)(i,{...e,userId:t.uid,createdAt:(0,r.Bt)(),status:"active",isPublic:!1}),await (0,r.r7)(s,{tripsCreatedCount:(0,r.nP)(1)})}async function o(e,t){let s=d.I.currentUser;if(!s)throw Error("NOT_AUTHENTICATED");let l=(0,r.JU)(d.db,"trips",e),a=await (0,r.QT)(l);if(!a.exists())throw Error("TRIP_NOT_FOUND");if(a.data().userId!==s.uid)throw Error("FORBIDDEN");await (0,r.r7)(l,{...t,updatedAt:(0,r.Bt)()})}let x=["January","February","March","April","May","June","July","August","September","October","November","December"],m=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];function u(e,t){return new Date(e.getFullYear(),e.getMonth()+t,1)}function h(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}let f=[{title:"Nature",image:"/images/card1.jpeg",icon:"/images/icon1.svg",description:"Waterfalls, forests and quiet escapes"},{title:"City",image:"/images/card2.jpeg",icon:"/images/icon2.svg",description:"Night lights, culture and local life"},{title:"Beach",image:"/images/card3.jpeg",icon:"/images/icon3.svg",description:"Sun, sea and soft sand beaches"},{title:"Adventure",image:"/images/card4.jpeg",icon:"/images/icon4.svg",description:"Mountains, trails and adrenaline routes"}],p="plan";function g(){let e=(0,i.useRouter)(),t=(0,i.useSearchParams)(),s="1"===t.get(p),[r,d]=(0,n.useState)(1),[g,w]=(0,n.useState)(null),[b,j]=(0,n.useState)(null),[v,N]=(0,n.useState)(""),[y,F]=(0,n.useState)(null),[D,S]=(0,n.useState)(()=>{let e=new Date;return new Date(e.getFullYear(),e.getMonth(),1)}),[_,C]=(0,n.useState)(null),[T,A]=(0,n.useState)(null),[E,k]=(0,n.useState)(0),[I,P]=(0,n.useState)(0),[M,R]=(0,n.useState)(!1),[U,O]=(0,n.useState)(!1),Y=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(!s){d(1),w(null),O(!1),Y.current&&(clearTimeout(Y.current),Y.current=null),j(null),N(""),F(null),C(null),A(null),k(0),P(0),S(()=>{let e=new Date;return new Date(e.getFullYear(),e.getMonth(),1)});return}let e=t.get("step");if(e){let t=Number(e);t>=1&&t<=4&&d(t)}let l=t.get("destination");l&&N(l);let a=t.get("mood");a&&j(a);let i=t.get("startDate"),n=t.get("endDate"),r=null,c=null;if(i){let e=new Date(i);Number.isNaN(e.getTime())||(r=e)}if(n){let e=new Date(n);Number.isNaN(e.getTime())||(c=e)}if(r||c){C(r),A(c);let e=r||c;e&&S(new Date(e.getFullYear(),e.getMonth(),1))}let o=t.get("tripId");o?w(o):w(null)},[s]),(0,n.useEffect)(()=>()=>{Y.current&&clearTimeout(Y.current)},[]);let B=()=>{let s=new URLSearchParams(t.toString());s.delete(p);let l=s.toString();e.push(l?"?".concat(l):"/trips",{scroll:!1})},L="",W="",H="";1===r?(L="Step 1 of 4",W="%25",H="w-1/4"):2===r?(L="Step 2 of 4",W="%50",H="w-2/4"):3===r?(L="Step 3 of 4",W="%75",H="w-3/4"):(L="Step 4 of 4",W="%100",H="w-4/4");let J=4===r?M?"Saving...":g?"Updating...":"Save":U?"Loading...":"Continue",q="Flexible dates";if(_&&T){let e={day:"numeric",month:"short"},t=_.toLocaleDateString(void 0,e),s=T.toLocaleDateString(void 0,e);q="".concat(t," - ").concat(s)}else if(_&&!T){let e=_.toLocaleDateString(void 0,{day:"numeric",month:"short"});q="Starting ".concat(e)}let Q=b||"Any mood",V=v||"Anywhere",z="Any company";"solo"===y?z="Solo":"couple"===y?z="Couple":"friends"===y?z=E>0?"Friends x".concat(E):"Friends":"family"===y&&(z=I>0?"Family with ".concat(I," kids"):"Family");let G=[Q,V,z,q],K=e=>{if(!_||_&&T){C(e),A(null);return}_&&!T&&(e.getTime()<_.getTime()?(C(e),A(null)):e.getTime()===_.getTime()?A(null):A(e))},X=u(D,1),Z=4===r&&g?"Edit":"Back",$=async()=>{if(!M){R(!0);try{let e=_&&T?{startDate:_.toISOString(),endDate:T.toISOString()}:null,t={destination:v||"",mood:b||"",dates:e,travelType:y,friendsCount:E,familyCount:I};g?(await o(g,t),window.alert("Trip updated!")):(await c(t),window.alert("Trip Saved!")),B()}catch(t){(null==t?void 0:t.message)==="LIMIT_REACHED"?window.alert("You have reached your free limit. Please upgrade to Pro."):(null==t?void 0:t.message)==="NOT_AUTHENTICATED"?e.push("/login"):window.alert("Failed to save trip. Please try again.")}finally{R(!1)}}},ee=v&&v.trim().length>0?v:"Weltweit",et="https://www.expedia.de/marketing/widgets/searchform/widget?wtt=1&tp1=101578370&tp2=&lob=H,FH,F,CA,CR,A&des=".concat(encodeURIComponent(ee),"&wbi=1&olc=000000&whf=4&hfc=C7C7C7&wif=4&ifc=000000&wbc=FFCB00&wbf=4&bfc=3D3100&wws=1&sfs=H600FW300F&langid=1031");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("section",{className:"bg-white py-16",children:(0,l.jsxs)("div",{className:"mx-auto flex max-w-6xl flex-col items-center gap-10 px-4 md:flex-row md:items-center md:px-0",children:[(0,l.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,l.jsxs)("h1",{className:"mb-6 text-3xl font-semibold leading-tight text-[#14183E] md:text-[40px]",children:["Plan Your",(0,l.jsx)("br",{}),"Dream"," ",(0,l.jsx)("span",{className:"text-[#0073D9]",children:"Journey"})," ","Together"]}),(0,l.jsxs)("button",{type:"button",onClick:()=>{d(1);let s=new URLSearchParams(t.toString());s.set(p,"1");let l=s.toString();e.push(l?"?".concat(l):"?",{scroll:!1})},className:"inline-flex items-center gap-2 rounded-full bg-[#F1A501] px-7 py-3 text-sm font-semibold text-white shadow-lg shadow-[#F1A501]/40 transition-transform transition-shadow hover:-translate-y-0.5 hover:shadow-xl",children:[(0,l.jsx)("span",{children:"Start Planning"}),(0,l.jsx)("span",{className:"text-lg",children:"→"})]}),(0,l.jsxs)("div",{className:"mt-10 flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex -space-x-3",children:[(0,l.jsx)("div",{className:"relative h-10 w-10 overflow-hidden rounded-full ring-2 ring-white",children:(0,l.jsx)(a.default,{src:"/images/hum1.jpeg",alt:"",fill:!0,className:"object-cover"})}),(0,l.jsx)("div",{className:"relative h-10 w-10 overflow-hidden rounded-full ring-2 ring-white",children:(0,l.jsx)(a.default,{src:"/images/hum2.jpeg",alt:"",fill:!0,className:"object-cover"})}),(0,l.jsx)("div",{className:"relative h-10 w-10 overflow-hidden rounded-full ring-2 ring-white",children:(0,l.jsx)(a.default,{src:"/images/hum3.jpeg",alt:"",fill:!0,className:"object-cover"})}),(0,l.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-[#F1A501] text-xs font-semibold text-white ring-2 ring-white",children:"+2K"})]}),(0,l.jsx)("p",{className:"text-xs text-neutral-500 md:text-sm",children:"Travelers joined this week"})]})]}),(0,l.jsx)("div",{className:"flex w-full justify-center md:w-1/2 md:justify-end",children:(0,l.jsx)("div",{className:"relative aspect-[4/3] w-full max-w-md overflow-hidden rounded-[32px] bg-white shadow-[0_30px_60px_rgba(0,0,0,0.12)]",children:(0,l.jsx)(a.default,{src:"/images/trips.jpeg",alt:"Airplane flying in the sky",fill:!0,className:"object-cover"})})})]})}),s&&(0,l.jsx)("div",{className:"fixed inset-0 z-40 flex items-start justify-center overflow-y-auto bg-black/40 px-4 py-6 md:py-10",children:(0,l.jsxs)("div",{className:"relative mt-10 mb-8 w-full max-w-5xl rounded-[32px] bg-[radial-gradient(circle_at_center,#0872D0_0,#003666_60%)] px-5 py-6 text-white md:mt-14 md:px-10 md:py-8",children:[(0,l.jsxs)("div",{className:"mb-6 flex items-center justify-between text-xs text-white/80",children:[(0,l.jsxs)("div",{className:"w-full max-w-xs md:max-w-sm",children:[(0,l.jsxs)("div",{className:"mb-2 flex items-center justify-between text-[11px]",children:[(0,l.jsx)("span",{children:L}),(0,l.jsx)("span",{children:W})]}),(0,l.jsx)("div",{className:"h-1.5 w-full rounded-full bg-white/20",children:(0,l.jsx)("div",{className:"h-full rounded-full bg-white ".concat(H)})})]}),(0,l.jsx)("button",{type:"button",onClick:B,className:"ml-6 text-xs font-medium text-white/80 transition-colors hover:text-white",children:"Exit"})]}),(0,l.jsxs)("div",{className:"mb-8 text-center",children:[1===r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"mb-2 text-2xl font-semibold md:text-[28px]",children:"Where does your soul want to go?"}),(0,l.jsx)("p",{className:"text-xs text-white/80 md:text-sm",children:"Select a theme to start journey. We'll curate the perfect spots for you"})]}),2===r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"mb-2 text-2xl font-semibold md:text-[28px]",children:"Where to?"}),(0,l.jsx)("p",{className:"text-xs text-white/80 md:text-sm",children:"Plan your journey"})]}),3===r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"mb-2 text-2xl font-semibold md:text-[28px]",children:"When do you want to travel?"}),(0,l.jsx)("p",{className:"text-xs text-white/80 md:text-sm",children:"Choose the dates for your trip. Select a start and end day."})]}),4===r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"mb-2 text-2xl font-semibold md:text-[28px]",children:"Your dream trip is ready"}),(0,l.jsx)("p",{className:"text-xs text-white/80 md:text-sm",children:"Review your plan and explore smart suggestions"})]})]}),1===r&&(0,l.jsx)("div",{className:"mb-8 grid items-stretch gap-4 md:grid-cols-4 md:gap-6",children:f.map(e=>{let t=b===e.title;return(0,l.jsxs)("button",{type:"button",onClick:()=>j(e.title),className:"group flex h-full flex-col overflow-hidden rounded-[24px] border text-left shadow-[0_20px_40px_rgba(0,0,0,0.35)] backdrop-blur-sm transition-transform transition-shadow hover:-translate-y-1 hover:shadow-[0_28px_60px_rgba(0,0,0,0.5)] ".concat(t?"border-[#6FC3FF] bg-white/10 ring-2 ring-[#6FC3FF]/60":"border-white/10 bg-white/5 hover:border-white/40"),children:[(0,l.jsx)("div",{className:"relative h-40 w-full md:h-52",children:(0,l.jsx)(a.default,{src:e.image,alt:e.title,fill:!0,className:"object-cover"})}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col gap-1 px-4 py-3",children:[(0,l.jsxs)("div",{className:"mb-1 flex items-center gap-2",children:[(0,l.jsx)("div",{className:"relative h-5 w-5",children:(0,l.jsx)(a.default,{src:e.icon,alt:"",fill:!0,className:"object-contain"})}),(0,l.jsx)("span",{className:"text-sm font-semibold text-white",children:e.title})]}),(0,l.jsx)("p",{className:"h-[36px] overflow-hidden text-[11px] text-white/75",children:e.description}),(0,l.jsx)("span",{className:"mt-auto pt-2 text-[11px] font-semibold text-[#6FC3FF] group-hover:text-white",children:"View spots"})]})]},e.title)})}),2===r&&(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("div",{className:"mb-8 flex justify-center",children:(0,l.jsxs)("div",{className:"flex w-full max-w-xl items-center gap-3 rounded-full bg-white/10 px-5 py-3 text-sm text-white shadow-[0_10px_30px_rgba(0,0,0,0.35)]",children:[(0,l.jsx)("span",{className:"relative h-4 w-4 md:h-5 md:w-5",children:(0,l.jsx)(a.default,{src:"/images/question.svg",alt:"",fill:!0,className:"object-contain"})}),(0,l.jsx)("input",{type:"text",placeholder:"Search destination",className:"w-full bg-transparent text-xs text-white placeholder:text-white/60 outline-none md:text-sm",value:v,onChange:e=>N(e.target.value)})]})}),(0,l.jsx)("div",{className:"mb-4 text-center",children:(0,l.jsx)("h3",{className:"mb-1 text-lg font-semibold md:text-xl",children:"Who's coming with you?"})}),(0,l.jsxs)("div",{className:"flex flex-wrap justify-center gap-3 md:gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 rounded-full px-5 py-3 text-left shadow-[0_10px_24px_rgba(0,0,0,0.35)] transition-colors ".concat("solo"===y?"bg-[#005fb1]":"bg-[#3DA9FF]"),onClick:()=>F("solo"),children:[(0,l.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-white/15",children:(0,l.jsx)("div",{className:"relative h-5 w-5",children:(0,l.jsx)(a.default,{src:"/images/page2icon.svg",alt:"",fill:!0,className:"object-contain"})})}),(0,l.jsxs)("div",{className:"text-xs md:text-sm",children:[(0,l.jsx)("div",{className:"font-semibold text-white",children:"Solo"}),(0,l.jsx)("div",{className:"text-white/80",children:"Just me"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3 rounded-full px-5 py-3 text-left shadow-[0_10px_24px_rgba(0,0,0,0.35)] transition-colors ".concat("couple"===y?"bg-[#005fb1]":"bg-[#3DA9FF]"),onClick:()=>F("couple"),children:[(0,l.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-white/15",children:(0,l.jsx)("div",{className:"relative h-5 w-5",children:(0,l.jsx)(a.default,{src:"/images/page2icons.svg",alt:"",fill:!0,className:"object-contain"})})}),(0,l.jsxs)("div",{className:"text-xs md:text-sm",children:[(0,l.jsx)("div",{className:"font-semibold text-white",children:"Couple"}),(0,l.jsx)("div",{className:"text-white/80",children:"2 people"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3 rounded-full px-5 py-3 text-left shadow-[0_10px_24px_rgba(0,0,0,0.35)] transition-colors ".concat("friends"===y?"bg-[#005fb1]":"bg-[#3DA9FF]"),onClick:()=>F("friends"),children:[(0,l.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-white/15",children:(0,l.jsx)("div",{className:"relative h-5 w-5",children:(0,l.jsx)(a.default,{src:"/images/page2iconsss.svg",alt:"",fill:!0,className:"object-contain"})})}),(0,l.jsxs)("div",{className:"text-xs md:text-sm",children:[(0,l.jsx)("div",{className:"font-semibold text-white",children:"Friends"}),(0,l.jsx)("div",{className:"text-white/80",children:"Group trip"})]}),(0,l.jsxs)("div",{className:"ml-4 flex items-center gap-2 text-xs md:text-sm",children:[(0,l.jsx)("button",{type:"button",onClick:()=>k(e=>Math.max(0,e-1)),className:"flex h-6 w-6 items-center justify-center rounded-full bg-white/15 text-white hover:bg-white/25",children:"-"}),(0,l.jsx)("span",{className:"min-w-[1.5rem] text-center font-semibold",children:E}),(0,l.jsx)("button",{type:"button",onClick:()=>k(e=>e+1),className:"flex h-6 w-6 items-center justify-center rounded-full bg-white text-[#0872D0] hover:bg-[#E6F4FF]",children:"+"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3 rounded-full px-5 py-3 text-left shadow-[0_10px_24px_rgba(0,0,0,0.35)] transition-colors ".concat("family"===y?"bg-[#005fb1]":"bg-[#3DA9FF]"),onClick:()=>F("family"),children:[(0,l.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-white/15",children:(0,l.jsx)("div",{className:"relative h-5 w-5",children:(0,l.jsx)(a.default,{src:"/images/page2iconsda.svg",alt:"",fill:!0,className:"object-contain"})})}),(0,l.jsxs)("div",{className:"text-xs md:text-sm",children:[(0,l.jsx)("div",{className:"font-semibold text-white",children:"Family"}),(0,l.jsx)("div",{className:"text-white/80",children:"With kids"})]}),(0,l.jsxs)("div",{className:"ml-4 flex items-center gap-2 text-xs md:text-sm",children:[(0,l.jsx)("button",{type:"button",onClick:()=>P(e=>Math.max(0,e-1)),className:"flex h-6 w-6 items-center justify-center rounded-full bg-white/15 text-white hover:bg-white/25",children:"-"}),(0,l.jsx)("span",{className:"min-w-[1.5rem] text-center font-semibold",children:I}),(0,l.jsx)("button",{type:"button",onClick:()=>P(e=>e+1),className:"flex h-6 w-6 items-center justify-center rounded-full bg-white text-[#0872D0] hover:bg-[#E6F4FF]",children:"+"})]})]})]})]}),3===r&&(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("div",{className:"mb-6 flex justify-center",children:(0,l.jsx)("div",{className:"flex w-full max-w-[180px] items-center justify-center rounded-full bg-white px-3 py-1.5 text-xs font-medium text-[#003666] md:max-w-xs md:px-4 md:py-2 md:text-sm",children:"Dates"})}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-white/70 md:text-sm",children:[(0,l.jsx)("button",{type:"button",onClick:()=>S(e=>u(e,-1)),className:"rounded-full bg-white/5 px-3 py-1 hover:bg-white/15",children:"←"}),(0,l.jsxs)("div",{className:"flex flex-1 items-center justify-center gap-16 text-sm font-semibold md:text-base",children:[(0,l.jsxs)("span",{children:[x[D.getMonth()]," ",D.getFullYear()]}),(0,l.jsxs)("span",{children:[x[X.getMonth()]," ",X.getFullYear()]})]}),(0,l.jsx)("button",{type:"button",onClick:()=>S(e=>u(e,1)),className:"rounded-full bg-white/5 px-3 py-1 hover:bg-white/15",children:"→"})]}),(0,l.jsx)("div",{className:"mt-4 flex flex-col gap-6 md:flex-row",children:[D,X].map(e=>{let t=function(e){let t=e.getFullYear(),s=e.getMonth(),l=(new Date(t,s,1).getDay()+6)%7,a=new Date(t,s+1,0).getDate(),i=[];for(let e=0;e<l;e+=1)i.push(null);for(let e=1;e<=a;e+=1)i.push(new Date(t,s,e));for(;i.length<42;)i.push(null);let n=[];for(let e=0;e<6;e+=1)n.push(i.slice(7*e,(e+1)*7));return n}(e);return(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"mb-2 grid grid-cols-7 gap-1 text-center text-[11px] text-white/60 md:text-xs",children:m.map(e=>(0,l.jsx)("span",{children:e},e))}),(0,l.jsx)("div",{className:"grid grid-cols-7 gap-1",children:t.flat().map((e,t)=>{if(!e)return(0,l.jsx)("div",{className:"flex h-8 w-8 items-center justify-center text-[11px] text-white/20 md:h-9 md:w-9 md:text-xs"},t);let s=_&&h(e,_),a=T&&h(e,T),i=_&&T&&function(e,t,s){let l=e.getTime();return l>t.getTime()&&l<s.getTime()}(e,_,T),n="flex h-8 w-8 items-center justify-center rounded-full text-[11px] md:h-9 md:w-9 md:text-xs";return s||a?n+=" bg-white text-[#0872D0] font-semibold":i?n+=" bg-white/25 text-white font-medium":n+=" text-white/80 hover:bg-white/15",(0,l.jsx)("button",{type:"button",onClick:()=>K(e),className:n,children:e.getDate()},e.toISOString())})})]},"".concat(e.getFullYear(),"-").concat(e.getMonth()))})}),U&&(0,l.jsxs)("div",{className:"mx-auto mt-6 flex w-full max-w-sm flex-col gap-2",children:[(0,l.jsx)("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-white/15",children:(0,l.jsx)("div",{className:"h-full w-full animate-pulse rounded-full bg-[#3DA9FF]"})}),(0,l.jsx)("p",{className:"text-center text-xs text-white/80 md:text-sm",children:"Loading your travel plan..."})]})]}),4===r&&(0,l.jsxs)("div",{className:"mb-8 flex flex-col gap-6 md:flex-row",children:[(0,l.jsx)("div",{className:"w-full md:w-[40%]",children:(0,l.jsxs)("div",{className:"rounded-[24px] bg-[#3DA9FF] p-5 shadow-[0_20px_40px_rgba(0,0,0,0.35)]",children:[(0,l.jsxs)("div",{className:"mb-4 flex items-center gap-3 text-sm font-semibold text-white",children:[(0,l.jsx)("div",{className:"relative h-5 w-5",children:(0,l.jsx)(a.default,{src:"/images/calendar.svg",alt:"",fill:!0,className:"object-contain"})}),(0,l.jsx)("span",{children:"Daily Itinerary"})]}),(0,l.jsx)("div",{className:"mb-4 space-y-3 text-xs text-white/90",children:G.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("div",{className:"relative h-4 w-4",children:(0,l.jsx)(a.default,{src:"/images/palnesd.svg",alt:"",fill:!0,className:"object-contain"})}),t<G.length-1&&(0,l.jsx)("div",{className:"mt-1 h-6 w-px bg-white/40"})]}),(0,l.jsx)("span",{className:"text-sm font-medium text-white",children:e})]},e))}),(0,l.jsxs)("div",{className:"overflow-hidden rounded-[20px] bg-black/40",children:[(0,l.jsx)("div",{className:"relative h-40 w-full",children:(0,l.jsx)(a.default,{src:"/images/card2.jpeg",alt:"City",fill:!0,className:"object-cover"})}),(0,l.jsx)("div",{className:"flex items-center justify-between px-4 py-3",children:(0,l.jsx)("span",{className:"text-sm font-semibold text-white",children:"City"})})]}),(0,l.jsx)("div",{className:"mt-4 flex justify-end",children:(0,l.jsxs)("button",{type:"button",className:"inline-flex items-center gap-2 rounded-full bg-[#06B0FF] px-4 py-2 text-xs font-semibold text-white shadow-[0_10px_20px_rgba(0,0,0,0.35)] transition-transform hover:-translate-y-0.5 hover:bg-[#09c1ff]",children:[(0,l.jsx)("span",{className:"relative h-4 w-4",children:(0,l.jsx)(a.default,{src:"/images/share.svg",alt:"",fill:!0,className:"object-contain"})}),(0,l.jsx)("span",{children:"Share Plan"})]})})]})}),(0,l.jsx)("div",{className:"w-full md:flex-1",children:(0,l.jsxs)("div",{className:"flex flex-col rounded-[24px] bg-[#62B8FF] shadow-[0_20px_40px_rgba(0,0,0,0.35)]",children:[(0,l.jsxs)("div",{className:"flex overflow-hidden rounded-t-[24px] bg-[#7DC5FF] text-xs font-semibold text-[#003666] md:text-sm",children:[(0,l.jsx)("div",{className:"flex flex-1 items-center justify-center bg-white px-3 py-3 text-[#003666]",children:"Best Deals"}),(0,l.jsx)("div",{className:"flex flex-1 items-center justify-center border-l border-[#5BAEF7] px-3 py-3 text-white/85",children:"Explore Maps"}),(0,l.jsx)("div",{className:"flex flex-1 items-center justify-center border-l border-[#5BAEF7] px-3 py-3 text-white/85",children:"AI Map"})]}),(0,l.jsx)("div",{className:"rounded-b-[24px] bg-white",children:(0,l.jsx)("div",{className:"h-[320px] sm:h-[360px] md:h-[420px] lg:h-[460px] w-full overflow-hidden rounded-b-[24px] bg-white",children:(0,l.jsx)("iframe",{id:"widgetIframe",src:et,width:"100%",height:"100%",scrolling:"auto",frameBorder:"0",style:{border:0}})})})]})})]}),(0,l.jsx)("div",{className:"border-t border-white/20 pt-5",children:(0,l.jsxs)("div",{className:"flex flex-col justify-between gap-3 md:flex-row",children:[(0,l.jsx)("button",{type:"button",onClick:()=>{if(4===r&&g){d(1);return}1===r?B():d(r-1)},disabled:U||4===r&&M,className:"inline-flex items-center justify-center rounded-full border border-white/40 px-8 py-2.5 text-sm font-semibold text-white transition-colors hover:border-white hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-70",children:Z}),(0,l.jsx)("button",{type:"button",onClick:4===r?$:()=>{if(3===r){if(U)return;O(!0),Y.current&&clearTimeout(Y.current),Y.current=setTimeout(()=>{O(!1),d(4),Y.current=null},5500);return}r<3&&d(r+1)},disabled:U||4===r&&M,className:"inline-flex items-center justify-center rounded-full bg-[#06B0FF] px-8 py-2.5 text-sm font-semibold text-white shadow-md shadow-black/30 transition-transform transition-shadow hover:-translate-y-0.5 hover:bg-[#09c1ff] hover:shadow-lg disabled:cursor-not-allowed disabled:opacity-70",children:J})]})})]})})]})}},9635:function(e,t,s){"use strict";s.d(t,{default:function(){return x}});var l=s(7437),a=s(2265),i=s(6648),n=s(6463),r=s(9842),d=s(9506),c=s(1270);let o={Nature:"/images/card1.jpeg",City:"/images/card2.jpeg",Beach:"/images/card3.jpeg",Adventure:"/images/card4.jpeg"};function x(){let{user:e}=(0,c.a)(),t=(0,n.useRouter)(),[s,x]=(0,a.useState)([]);return((0,a.useEffect)(()=>{if(!e)return;let t=(0,r.hJ)(d.db,"trips"),s=(0,r.IO)(t,(0,r.ar)("userId","==",e.uid));return(0,r.cf)(s,e=>{let t=[];e.forEach(e=>{var s,l,a,i,n;let r=e.data();t.push({id:e.id,userId:r.userId,destination:null!==(s=r.destination)&&void 0!==s?s:"",mood:null!==(l=r.mood)&&void 0!==l?l:"",dates:null!==(a=r.dates)&&void 0!==a?a:{startDate:"",endDate:""},isPublic:null!==(i=r.isPublic)&&void 0!==i&&i,status:null!==(n=r.status)&&void 0!==n?n:"active",createdAt:r.createdAt})}),t.sort((e,t)=>{var s,l,a,i;let n=null!==(a=null===(s=e.createdAt)||void 0===s?void 0:s.seconds)&&void 0!==a?a:0;return(null!==(i=null===(l=t.createdAt)||void 0===l?void 0:l.seconds)&&void 0!==i?i:0)-n}),x(t)})},[e]),e)?(0,l.jsx)("section",{className:"bg-neutral-50 py-16",children:(0,l.jsxs)("div",{className:"mx-auto max-w-6xl px-4 md:px-0",children:[(0,l.jsx)("div",{className:"mb-8 flex items-end justify-between gap-4",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"mb-2 text-xs font-semibold uppercase tracking-[0.22em] text-[#0073D9]",children:"History"}),(0,l.jsx)("h2",{className:"text-2xl font-semibold text-[#14183E] md:text-3xl",children:"Your Adventures"}),(0,l.jsx)("p",{className:"mt-1 text-sm text-neutral-500",children:"Manage your planned journeys and revisit your saved trips."})]})}),0===s.length?(0,l.jsx)("div",{className:"rounded-3xl border border-dashed border-neutral-200 bg-white px-6 py-8 text-center text-sm text-neutral-500",children:"Your created trips will appear here once you save them."}):(0,l.jsx)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:s.map(e=>{var s,a;let n=(s=e.mood)&&null!==(a=o[s])&&void 0!==a?a:"/images/trips.jpeg",r=function(e){if(!e.dates||!e.dates.startDate||!e.dates.endDate)return"Flexible dates";let t=new Date(e.dates.startDate),s=new Date(e.dates.endDate);if(Number.isNaN(t.getTime())||Number.isNaN(s.getTime()))return"Flexible dates";let l={day:"numeric",month:"short"},a=t.toLocaleDateString(void 0,l),i=s.toLocaleDateString(void 0,l);return"".concat(a," - ").concat(i)}(e),d="active"===e.status;return(0,l.jsxs)("article",{className:"group flex flex-col overflow-hidden rounded-[24px] bg-white shadow-[0_24px_50px_rgba(0,0,0,0.06)]",children:[(0,l.jsxs)("div",{className:"relative h-40 w-full overflow-hidden",children:[(0,l.jsx)(i.default,{src:n,alt:e.destination||"Trip cover",fill:!0,className:"object-cover transition-transform duration-500 group-hover:scale-105"}),(0,l.jsx)("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-black/40 via-black/10 to-transparent"})]}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col justify-between px-4 py-4",children:[(0,l.jsxs)("div",{className:"mb-3 space-y-1",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,l.jsx)("h3",{className:"truncate text-sm font-semibold text-[#14183E] md:text-base",children:e.destination||"Untitled destination"}),(0,l.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-[#E6F4FF] px-2 py-0.5 text-[11px] font-medium text-[#0073D9]",children:[(0,l.jsx)("span",{className:"inline-block h-1.5 w-1.5 rounded-full ".concat(d?"bg-emerald-500":"bg-neutral-400")}),(0,l.jsx)("span",{children:d?"Active":"Archived"})]})]}),e.mood&&(0,l.jsxs)("p",{className:"text-xs text-neutral-500",children:["Mood: ",e.mood]}),(0,l.jsx)("p",{className:"text-xs text-neutral-500",children:r})]}),(0,l.jsx)("div",{className:"mt-2 flex justify-end",children:(0,l.jsx)("button",{type:"button",onClick:()=>{var s,l;let a=new URLSearchParams;a.set("plan","1"),a.set("step","4"),a.set("tripId",e.id),e.destination&&a.set("destination",e.destination),e.mood&&a.set("mood",e.mood),(null===(s=e.dates)||void 0===s?void 0:s.startDate)&&a.set("startDate",e.dates.startDate),(null===(l=e.dates)||void 0===l?void 0:l.endDate)&&a.set("endDate",e.dates.endDate),t.push("/trips?".concat(a.toString()))},className:"inline-flex items-center justify-center rounded-full bg-[#0073D9] px-4 py-1.5 text-xs font-medium text-white shadow-sm shadow-[#0073D9]/30 transition hover:-translate-y-0.5 hover:bg-[#005fb1]",children:"View"})})]})]},e.id)})})]})}):null}}},function(e){e.O(0,[609,117,67,138,647,960,971,23,744],function(){return e(e.s=2866)}),_N_E=e.O()}]);